<!DOCTYPE html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta name="generator" content="pandoc" />




<link rel="stylesheet" href="/style.css" type="text/css" />


<title>pandoc安装和使用</title>
<meta name="keywords" content="mac,linux,markdown,pandoc">

</head>


<body>
<div id="all">

<div id="all">
    <div id="header">
        <ul id="top-nav">
            <li>
            <a href="/index.html">Wiki首页</a>
            </li>
            <li>
            <a href="http://www.ohlinux.com">Blog首页</a>
            </li>
            <li>
            <a href="/about.html">about</a>
            </li>
        </ul>
</div>



 <!--if(title)-->

<p>目录:</p>
<div id="TOC">
<ul>
<li><a href="#pandoc安装">Pandoc安装</a></li>
<li><a href="#pandoc文档转换">Pandoc文档转换</a><ul>
<li><a href="#markdown转htmlword与pdf">Markdown转html、word与PDF</a></li>
<li><a href="#pandoc生成epubhtml与在线电子书">Pandoc生成epub、html与在线电子书</a></li>
</ul></li>
</ul>
</div>
 <!--if(toc)-->

<!---title:pandoc安装和使用-->
<!---keywords:mac,linux,markdown,pandoc-->

<p>我们都知道markdown的格式很简单,主要是让写者可以专注文字而不是格式,但格式我们少不了,需要html pdf ppt等输出,这个时候pandoc是一个很好选择</p>
<p>haskell 是什么？一种编程语言。每位资深的开发者学习它，都会有些不知所措，因为，它的编程思路不同于通常意义上类似于C#、Python、Java这些流行的编程语言。它来自一群高智商的开发者的贡献，据说人人有PHD学位，是函数式编程语言的典范。当然，Pandoc作者John MacFarlane也不例外，他是一位来自美国加州大学伯克利分校的哲学教授，研究的是认识论这类高深议题:D</p>
<p>文本格式转换，每位开发过这方面程序的技术青年，都知道它有多么痛苦；开发出的程序有多么丑陋。甚至可以说，这是个无底黑洞。事实证明，haskell的确是干这脏活、累活的最恰当选择。Pandoc也的确成功了，并已成功在短期内构建一个完整的生态链</p>
<h1 id="pandoc安装"><a href="#pandoc安装">Pandoc安装</a></h1>
<ul>
<li>最简单的安装办法(推荐办法)</li>
</ul>
<p>下载软件，找到相应操作系统对应的文件，然后按照默认点击即可。如果你不需要学习Haskell，请使用此种办法，好处多多。</p>
<ul>
<li>更技术的安装办法（学习Haskell者使用）</li>
</ul>
<p>一个通用的安装方式是,安装Haskell平台.然后再通过Haskell平台安装Pandoc。步骤如下：</p>
<pre><code>* 安装Haskell平台

如果之前，你通过其它方式，安装过Haskell的运行平台，需要卸载，Mac下命令如下：

/Library/Haskell/bin/uninstall-hs
然后，系统会找到你之前安装过的版本，如7.4.1、7.0.4，运行下列命令：

sudo uninstall-hs only 7.0.4 --remove sudo uninstall-hs only 7.4.1
--remove
下载Haskell平台，下载地址是：http://hackage.haskell.org/platform/

选择你相应的操作系统平台即可。

然后下载完之后，一路按照默认安装即可。配置在.bashrc或者修改.zshrc文件。作者使用的是zshrc配置文件。因此，在\~/.zshrc文件末尾增加一行：

export PATH=&quot;$HOME/Library/Haskell/bin:$PATH&quot;
这样可以直接通过shell来控制Haskell。打开终端，如iterm2，输入：

cabal update
cabal是类似于Ruby下的rubygems一样的包管理器。cabal程序会链接到服务器http://hackage.haskell.org/packages/archive/上下载相应的包信息。下载时间会较长，请耐心等候，并检查本机与HaskellDB服务器的连接速度。

* 安装pandoc

运行：

cabal install pandoc
编译安装时间较漫长.</code></pre>
<h1 id="pandoc文档转换"><a href="#pandoc文档转换">Pandoc文档转换</a></h1>
<h2 id="markdown转htmlword与pdf"><a href="#markdown转htmlword与pdf">Markdown转html、word与PDF</a></h2>
<p>如下例所示：</p>
<p>转html格式</p>
<p>pandoc 01-chapter2.markdown -o chapter2.html -c Github.css 转word格式</p>
<p>pandoc 01-chapter2.markdown -o chapter2.docx -c Github.css ## Markdown转PDF</p>
<p>安装LaTex</p>
<p>待补。</p>
<p>转pdf格式</p>
<pre><code>pandoc  01-chapter2.markdown -o 01-chapter2.pdf --latex-engine=xelatex -V mainfont=heiti\ </code></pre>
<h2 id="pandoc生成epubhtml与在线电子书"><a href="#pandoc生成epubhtml与在线电子书">Pandoc生成epub、html与在线电子书</a></h2>
<ul>
<li>安装nodejs与grunt、bower</li>
</ul>
<p>下载nodejs安装包，网址为：http://nodejs.org/</p>
<p>下载之后，安装默认安装。安装完之后，确认安装是否成功。</p>
<p>npm -v 如果如我一样，使用的是zsh。在.zshrc文件中添加nodejs的路径。</p>
<p>mate ~/.zshrc 在文件末尾添加：</p>
<p>export PATH=/usr/local/share/npm/bin:$PATH 然后，安装grunt。</p>
<p>sudo npm install -g grunt 安装bower等。</p>
<p>sudo npm install -g bower</p>
<ul>
<li>使用wbb生成epub、html与在线电子书示范</li>
</ul>
<p>以著名的progit为例。</p>
<p>git clone https://github.com/PascalPrecht/wbb test2012 cd test2012 然后检查clone下来的项目，是否已经包含了grunt.js等文件。各项生成代码写在那里面。</p>
<p>书稿则写在/test2012/src/chapters 这样的目录下面。</p>
<p>写作书稿时，完全按照正常git流程管理。书稿预览效果，是在test2012的根目录下面，运行：</p>
<p>grunt wbb:html 自定义各项参数，请修改grunt.js文件。</p>
<p>生成的epub、html与moblie在线电子书，在builds目录下面。同时可以设置，与leanpub在线出版网站搭配。</p>

<!--Baidu tongji-->
<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "//hm.baidu.com/hm.js?c33f8eb1bbd2cf29ae19a3492ccca0c6";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
    })();
</script>
<!--Baidu tongji-->
<div id="date"> </div>
<div id="liuyan">
    <!-- UY BEGIN -->
    <div id="uyan_frame"></div>
    <script type="text/javascript" id="UYScript" src="http://v1.uyan.cc/js/iframe.js?UYUserId=1789306" async=""></script>
    <!-- UY END -->
</div>
<div id="footer">
    <p class="footer_subline">Contact: ajian521@gmail.com</p>
</div>
</div> <!--all-->
</body>
</html>
